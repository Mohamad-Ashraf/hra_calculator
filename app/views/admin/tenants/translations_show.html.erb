<div>
  <div class="form-group col-md-4">
    <h5>Choose Page</h5>
    <%= select_dropdown('ui_page', @page.options.pluck(:key)) %>
  </div>

  <div class="form-group col-md-4">
    <h5>Translate from</h5>
    <%= select_dropdown('translate_from', @translations.options.pluck(:key)) %>
  </div>

  <div class="form-group col-md-4">
    <h5>Translate to</h5>
    <%= select_dropdown('translate_to', @translations.options.pluck(:key)) %>
  </div>

  <div class="form-group col">
    <h5>Source Text</h5>
  
    <%= form_for(@translations, url: admin_tenant_ui_element_update_path) do |page_form| %>
    <div class="translations">
      <div class="row">
        <div class="col-4" style="height: 200px; overflow-y: scroll;">
          <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
            <%= page_form.fields_for :child_options do |child_option_0_form|%>
              <%= child_option_0_form.fields_for :child_options do |child_option_1_form|%>
                <a class="nav-link" id="<%= child_option_0_form.object.key %>-<%= child_option_1_form.object.key.to_s.gsub('.', '-') %>" data-toggle="pill" href="#v-pills-<%= child_option_0_form.object.key %>-<%= child_option_1_form.object.key.to_s.gsub('.', '-') %>" role="tab" aria-controls="v-pills-<%= child_option_0_form.object.key %>-<%= child_option_1_form.object.key.to_s.gsub('.', '-') %>" aria-selected="true"><%= child_option_1_form.object.key %></a>
              <% end %>
            <% end %>
          </div>
        </div>
        <div class="col-8">
          <div class="tab-content" id="v-pills-tabContent">
            <%= page_form.fields_for :child_options do |child_option_0_form|%>
              <%= child_option_0_form.fields_for :child_options do |child_option_1_form|%>
              <div class="tab-pane fade" id="v-pills-<%= child_option_0_form.object.key %>-<%= child_option_1_form.object.key.to_s.gsub('.', '-') %>" role="tabpanel" aria-labelledby="v-pills-<%= child_option_0_form.object.key %>-<%= child_option_1_form.object.key.to_s.gsub('.', '-') %>-tab">
                <p>
                  <%= child_option_1_form.object.value&.html_safe || child_option_1_form.object.default&.html_safe %>
                </p>
              </div>
              <% end %>
            <% end %>
          </div>
        </div>
      </div>
    </div>
    <% end %>
  </div>
</div>

<script>
const elements = document.querySelectorAll('.translations .nav-link')

elements.forEach((element) => {
  element.addEventListener('click', (e) => {
    var currentElement  = e.currentTarget;
    var page_element    = document.getElementById('ui_page').value;
    var translate_from  = document.getElementById('translate_from').value;
    var translate_to    = document.getElementById('translate_to').value;
    var translation_key = currentElement.text;


    debugger
  })
})
</script>
